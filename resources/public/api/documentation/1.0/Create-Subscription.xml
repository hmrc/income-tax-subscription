<endpoint>
    <name>Create Subscription</name>
    <description>This endpoint allows users to subscribe to the Making Tax Digital for Business - Income Tax service.</description>

    <section id="resource">
        <title>Resource</title>
        <resource>POST /income-tax/subscription</resource>
    </section>

    <section id="authorisation">
        <title>Authorisation</title>
        <authorisation>
            <type>USER</type>
            <scope>write:income-tax</scope>
        </authorisation>
    </section>

    <section id="content-types">
        <title>Accepted Media Types</title>
        <list>
            <item>
                <code>application/vnd.hmrc.1.0+json</code>
            </item>
        </list>
    </section>

    <section id="sample-request">
        <title>Request</title>
        <json>
<![CDATA[
{
    "email": "test@test.com",
    "acceptsTermsAndConditions": true
}
]]>
        </json>
    </section>

    <section id="response">
        <title>Response</title>
        <httpStatus>201 (CREATED)</httpStatus>
    </section>

    <section id="error-responses">
        <title>Error Scenarios</title>
        <table>
            <headings>
                <cell>Error Scenario</cell>
                <cell>HTTP Status</cell>
                <cell>Error Code</cell>
                <cell>message</cell>
            </headings>
            <rows>
                <row>
                    <cell>
                        <code>Bad Request</code>
                    </cell>
                    <cell>
                        <code>400 (Bad Request)</code>
                    </cell>
                    <cell>
                        <code>BAD_REQUEST</code>
                    </cell>
                    <cell>
                        <code>Bad Request</code>
                    </cell>
                </row>

                <row>
                    <cell>
                        <code>Invalid request payload</code>
                    </cell>
                    <cell>
                        <code>400 (Bad Request)</code>
                    </cell>
                    <cell>
                        <code>BAD_REQUEST</code>
                    </cell>
                    <cell>
                        <code>Invalid payload</code>
                    </cell>
                </row>

                <row>
                    <cell>
                        <code>Unauthorized</code>
                    </cell>
                    <cell>
                        <code>401 (Unauthorized)</code>
                    </cell>
                    <cell>
                        <code>UNAUTHORIZED</code>
                    </cell>
                    <cell>
                        <code>Bearer token is missing or not authorized</code>
                    </cell>
                </row>
                <row>
                    <cell>
                        <code>Resource Not Found</code>
                    </cell>
                    <cell>
                        <code>404 (Not Found)</code>
                    </cell>
                    <cell>
                        <code>NOT_FOUND</code>
                    </cell>
                    <cell>
                        <code>Resource was not found</code>
                    </cell>
                </row>

                <row>
                    <cell>
                        <code>Accept header invalid</code>
                    </cell>
                    <cell>
                        <code>406 (Not Acceptable)</code>
                    </cell>
                    <cell>
                        <code>ACCEPT_HEADER_INVALID</code>
                    </cell>
                    <cell>
                        <code>The accept header is missing or invalid</code>
                    </cell>
                </row>

                <row>
                    <cell>
                        <code>Content-Type header invalid</code>
                    </cell>
                    <cell>
                        <code>406 (Not Acceptable)</code>
                    </cell>
                    <cell>
                        <code>CONTENT_TYPE_HEADER_INVALID</code>
                    </cell>
                    <cell>
                        <code>The content type header is missing or invalid</code>
                    </cell>
                </row>

                <row>
                    <cell>
                        <code>Internal Server Error</code>
                    </cell>
                    <cell>
                        <code>500 (Internal Server Error)</code>
                    </cell>
                    <cell>
                        <code>INTERNAL_SERVER_ERROR</code>
                    </cell>
                    <cell>
                        <code>Internal server error</code>
                    </cell>
                </row>
            </rows>
        </table>
    </section>
</endpoint>